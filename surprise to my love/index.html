<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8" />
    <title>ç»™å­ç¦çš„æµªæ¼«æƒŠå–œ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            background-color: #fff0f5;
            font-family: 'KaiTi', cursive;
            height: 100%;
            overflow: hidden;
        }

        #cover {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffd6e8, #fff0f5);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            z-index: 10;
            animation: fadeIn 1s;
        }

        #cover h1 {
            font-size: 26px;
            text-align: center;
            margin: 20px;
            color: #d63384;
            padding: 0 20px;
        }

        #cover button {
            padding: 10px 20px;
            font-size: 18px;
            background-color: #ff69b4;
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        #main-content {
            display: none;
        }

        .heart {
            width: 100px;
            height: 90px;
            background-color: red;
            position: relative;
            margin: 40px auto;
            transform: rotate(-45deg);
            animation: heartbeat 1s infinite;
        }

        .heart::before,
        .heart::after {
            content: "";
            width: 100px;
            height: 90px;
            background-color: red;
            border-radius: 50%;
            position: absolute;
        }

        .heart::before {
            top: -50px;
            left: 0;
        }

        .heart::after {
            left: 50px;
            top: 0;
        }

        @keyframes heartbeat {

            0%,
            100% {
                transform: scale(1) rotate(-45deg);
            }

            50% {
                transform: scale(1.2) rotate(-45deg);
            }
        }

        .type-text {
            font-size: 18px;
            text-align: center;
            max-width: 90vw;
            margin: 30px auto;
            line-height: 1.8;
            word-break: break-word;
            padding: 0 10px;
        }
    </style>
</head>

<body>
    <!-- ğŸ“˜ å°é¢ä¹¦é¡µ -->
    <div id="cover">
        <h1>ã€Šå¦‚ä½•è®©å§œå­ç¦å¯¹æˆ‘é‡æ–°æ„Ÿå…´è¶£ã€‹</h1>
        <button onclick="openBook()">ç‚¹å‡»æ­¤å¤„æ•²æ‰“éš‹æ²›é›¨</button>
    </div>

    <!-- ğŸ¬ ä¸»å†…å®¹ -->
    <div id="main-content">
        <div class="heart"></div>

        <!-- èƒŒæ™¯éŸ³ä¹ï¼Œå¾ªç¯æ’­æ”¾ -->
        <audio id="bgm" preload="auto" loop>
            <source src="iloveyou.mp3" type="audio/mpeg" />
        </audio>

        <!-- ä½ çš„å½•éŸ³ï¼Œæ’­æ”¾ä¸€æ¬¡ -->
        <audio id="voice" preload="auto">
            <source src="your-voice.mp3" type="audio/mpeg" />
        </audio>

        <div id="typewriter" class="type-text"></div>
    </div>

    <script>
        const text = `å­ç¦ï¼Œè°¢è°¢ä½ åœ¨æˆ‘æœ€ä¸å®Œç¾çš„æ—¶å€™ä¾ç„¶é€‰æ‹©æˆ‘ã€ç›¸ä¿¡æˆ‘ã€åŒ…å®¹æˆ‘ã€‚ä½ çš„æ¸©æŸ”ä¸åšå®šï¼Œæ˜¯æˆ‘æ­¤ç”Ÿæœ€çè´µçš„å¹¸è¿ã€‚æˆ‘æ„¿ç”¨å°½ä½™ç”Ÿçš„æ¸©æŸ”ï¼Œå›åº”ä½ æ¯ä¸€æ¬¡å›å¤´çš„ç›®å…‰ã€‚æ­¤å¿ƒå·²å®šï¼Œä¸ä½ èµ°è¿›å©šå§»çš„æ®¿å ‚ï¼Œä¸æ˜¯å†²åŠ¨ï¼Œè€Œæ˜¯æ·±æ€ç†Ÿè™‘åçš„ç¬ƒå®šã€‚æˆ‘çˆ±ä½ ï¼Œè‡³æ·±ã€è‡³ä¹…ã€è‡³å”¯ä¸€ã€‚`;
        let i = 0;
        const speed = 200;

        function typeWriter() {
            if (i < text.length) {
                document.getElementById("typewriter").innerHTML += text.charAt(i);
                i++;
                setTimeout(typeWriter, speed);
            }
        }

        function openBook() {
            document.getElementById("cover").style.display = "none";
            document.getElementById("main-content").style.display = "block";

            const voice = document.getElementById("voice");
            const bgm = document.getElementById("bgm");

            // æ’­æ”¾å½•éŸ³ï¼Œå¼€å§‹æ‰“å­—
            voice.play().then(() => {
                typeWriter();
            }).catch(() => {
                // è‹¥è‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œå…ˆå¯åŠ¨æ‰“å­—ï¼Œæ˜¾ç¤ºæ’­æ”¾æŒ‰é’®
                typeWriter();
                showPlayButton();
            });

            // å½•éŸ³ç»“æŸåæ’­æ”¾èƒŒæ™¯éŸ³ä¹
            voice.onended = () => {
                bgm.play().catch(() => {
                    showPlayButton();
                });
            };

            // è‡ªåŠ¨æ’­æ”¾æŒ‰é’®ï¼ˆæ’­æ”¾èƒŒæ™¯éŸ³ä¹å’Œå½•éŸ³ï¼‰
            function showPlayButton() {
                const btn = document.createElement("button");
                btn.textContent = "ç‚¹å‡»æ’­æ”¾å½•éŸ³å’ŒéŸ³ä¹";
                btn.style = `
                    position: fixed;
                    top: 20px;
                    left: 20px;
                    z-index: 999;
                    padding: 10px 20px;
                    font-size: 16px;
                    background-color: pink;
                    border: none;
                    border-radius: 8px;
                    cursor: pointer;
                `;
                btn.onclick = function () {
                    voice.play();
                    bgm.play();
                    btn.remove();
                };
                document.body.appendChild(btn);
            }
        }
    </script>
</body>

</html>